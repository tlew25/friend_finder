<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <!-- bootstrap -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <!-- bootstrap -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!-- google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Comfortaa|Patrick+Hand|Sedgwick+Ave" rel="stylesheet">
    <!-- jQuery script -->
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
    <!-- style.css -->
    <link rel="stylesheet" href="css/style.css" />
  
    <title>Survey</title>
  </head>
  <body>
      <br>
    <br />
    <!-- jQuery function pulls up modal with results from score calculations -->
    <div class="modal" id="img-holder" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 id ="results-txt"class="modal-title">Results</h5>
            <button type="button" id="close" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <img src="" id="displayImage" height ="90%" width="90%">
            <p id="pic-font">Your new friend is here!</p>
          </div>
        </div>
      </div>
    </div>
    <!-- end of modal pop-up -->
    <div class="jumbotron">
        <h1 class="text-center">
          <span class="fa fa-user"></span> Friend Finder
        </h1>
        <hr />
        <h2 class="text-center">
          Begin Questionnaire Here
        </h2>
        <h5 class="text-center">
          <em>Answer with the best of your ability.</em>
        </h5>
      </div>
      <br>
      <!-- Images -->
      <div class="clearfix">
        <img id="sunny-img" src="/images/Its-Always-Sunny-In-Philadelphia-920x584.png" height="250" width="450">
        <p>Friends</p>
        <img id="atl-img" src="/images/atlanta-tv-show.jpg" height="250" width="450">
        <p>Last <em><span id="forever">Forever.</span></em></p>
        <img id="rp-img" src="/images/941143_deviantart-more-like-rocket-power-by-violent-rainbow_900x563_h.jpg" height="250" width="450">
      </div>
      <!-- End of image slots -->

      <!-- start of questionnaire form -->
    <form>
      <div class="form-group">
        <label for="exampleFormControlInput1">Your Info</label>
        <input
          type="email"
          class="form-control"
          placeholder="Your Name"
          id="name"
        />
      </div>
      <div class="form-group">
        <label for="exampleFormControlInput1">Link to Photo ( Upload Here <em>" Required "</em>   )</label>
        <input
          type="email"
          class="form-control"
          placeholder="URL Link Here"
          id="photo"
        />
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >1. How much do you like Rap music?</label
        >
        <select class="form-control" id="q1">
          <option value = "">Select</option>
          <option value = "1">Not one bit, turn that $#@! off!</option>
          <option value = "2">Ehhh, it's not my first choice</option>
          <option value = "3">Not too bad</option>
          <option value = "4">I can dig it!</option>
          <option value = "5">Turn it up!</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1">2. How creative are you?</label>
        <select class="form-control" id="q2">
          <option value = "">Select</option>
          <option value = "1">Can't do stick figures</option>
          <option value = "2">Not my forte</option>
          <option value = "3">I can watercolor</option>
          <option value = "4">I love coding and designing things</option>
          <option value = "5">I am the creative genius of Kanye</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >3. Do you consider yourself a person who is clean/organized?</label
        >
        <select class="form-control" id="q3">
          <option value = "">Select</option>
          <option value = "1">I'm messy dude</option>
          <option value = "2">Can't find a pair of socks that match ever</option>
          <option value = "3">I can keep my apartment clean enough for guests</option>
          <option value = "4">I'm clean</option>
          <option value = "5">Germophobe</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >4. What is your level of competitivness in general?</label
        >
        <select class="form-control" id="q4">
          <option value = "">Select</option>
          <option value = "1">Wouldn't crush a grape with a sledgehammer</option>
          <option value = "2">Not enough</option>
          <option value = "3">I can get rowdy</option>
          <option value = "4">Down for a challenge</option>
          <option value = "5">Let's go right now, don't even question me</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1"
          >5. Are you a leader?
        </label>
        <select class="form-control" id="q5">
          <option value = "">Select</option>
          <option value = "1">No way</option>
          <option value = "2">I falter easily</option>
          <option value = "3">I have chapperoned before</option>
          <option value = "4">I have sufficient leadership</option>
          <option value = "5">I was quarterback in 8th grade, so I got this</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1">6. You are more of a fighter than a lover</label>
        <select class="form-control" id="q6">
          <option value = "">Select</option>
          <option value = "1">I'm weak</option>
          <option value = "2">Not much of a fighter</option>
          <option value = "3">I will defend myself</option>
          <option value = "4">I ain't scared of nobody</option>
          <option value = "5">First rule of...</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1">7. You die for your favorite sports team</label>
        <select class="form-control" id="q7">
          <option value = "">Select</option>
          <option value = "1">Who cares</option>
          <option value = "2">We have a team?</option>
          <option value = "3">Fair-weather fan</option>
          <option value = "4">I watch until they're out of the playoffs</option>
          <option value = "5">I bleed blue for the Cowboys</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1">8. How frequently do you smack while eating?</label>
        <select class="form-control" id="q8">
          <option value = "">Select</option>
          <option value = "1">Not much</option>
          <option value = "2">Ocassionally</option>
          <option value = "3">Quietly</option>
          <option value = "4">Moderately loud</option>
          <option value = "5">*SMACK* *SMACK*</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1">9. Survey's easily annoy you</label>
        <select class="form-control" id="q9">
          <option value = "">Select</option>
          <option value = "1">I hate them</option>
          <option value = "2">Waste of time</option>
          <option value = "3">They're okay</option>
          <option value = "4">Don't mind taking them</option>
          <option value = "5">I love them with all my heart</option>
        </select>
      </div>
      <div class="form-group">
        <label for="exampleFormControlSelect1">10. Do you like to drink cold beer?</label>
        <select class="form-control" id="q10">
          <option value = "">Select</option>
          <option value = "1">What is a beer?</option>
          <option value = "2">Ehhhhhh</option>
          <option value = "3">From time, to time</option>
          <option value = "4">Yeah</option>
          <option value = "5">Hell yeah!</option>
        </select>
      </div>
      <br>
      <button type="button" id="submitFriend" class="btn btn-primary btn-lg btn-block">Submit</button>
    </form>
  </div>
  <!-- end of form -->
  
  <!-- button sumbit function here with javascript -->
  <script type="text/javascript">

    $(document).on("click", "#submitFriend", function(){
      event.preventDefault();
      var newFriend = {
        name: $("#name").val().trim(),
        photo: $("#photo").val().trim(),
        scores: [$("#q1").val().trim(),$("#q2").val().trim(),$("#q3").val().trim(),$("#q4").val().trim(),$("#q5").val().trim(),$("#q6").val().trim(),$("#q7").val().trim(),$("#q8").val().trim(),$("#q9").val().trim(),$("#q10").val().trim()]
      };
      alert("Searching for bestie...");
      $.post("/api/friends", newFriend)
        .done(function(data){

          console.log("Found them!!!!");
          // console.log(data.photo);

          // function allows the modal to display data from friends.js 
          $("#img-holder").hide();
          $("#img-holder").show(data.scores);
          $("#results-txt").text(data.name);
          $("#displayImage").attr( "src", data.photo);
          $(document).on("click", "#close", function(){
            $("#img-holder").hide();
          })
        });
        // empties out all input after submission is made by subbing the values with "" marks which is the first option on the select
        $("#name").val("");
        $("#photo").val("");
         $("#q1").val("")
         $("#q2").val("")
         $("#q3").val("")
         $("#q4").val("")
         $("#q5").val("")
         $("#q6").val("")
         $("#q7").val("")
         $("#q8").val("")
         $("#q9").val("")
         $("#q10").val("")
    });
  </script>
  </body>
</html>
